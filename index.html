<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Water Management & Irrigation Planner</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div>
      <h1>Smart Water Management & Irrigation Planner</h1>
      <div class="subtitle">Problem: Over/under irrigation â†’ water waste & crop stress.
        Solution: Data-driven irrigation based on ETâ‚€, crop stage, rainfall, and soil.</div>
    </div>
    <div class="row">
      <button id="exportBtn" class="secondary" title="Download CSV of your runs">Export CSV</button>
      <button id="resetBtn" class="secondary" title="Clear form">Clear</button>
      <button id="demoBtn" title="Fill with a demo example">Demo</button>
    </div>
  </header>

  <div class="wrap">
    <!-- INPUTS -->
    <section class="card">
      <h2>Field & Climate Inputs</h2>
      <div class="grid">
        <div>
          <label>Crop</label>
<select id="crop">
            <option value="rice">Rice (paddy)</option>
            <option value="wheat">Wheat</option>
            <option value="maize">Maize</option>
            <option value="cotton">Cotton</option>
            <option value="groundnut">Groundnut</option>
            <option value="sugarcane">Sugarcane</option>
            <option value="tomato">Tomato (veg)</option>
          </select>
          <div class="inline-tip">Kc varies by crop & stage (built-in table).</div>
        </div>
        <div>
          <label>Growth Stage (affects Kc)</label>
          <select id="stage">
            <option value="initial">Initial</option>
            <option value="mid">Mid-season</option>
            <option value="late">Late-season</option>
          </select>
        </div>

        <div>
          <label>Area (hectares)</label>
          <input id="area" type="number" step="0.01" placeholder="e.g., 1.5" />
          <div class="inline-tip">1 ha = 10,000 mÂ²</div>
        </div>
        <div>
          <label>ETâ‚€ (mm/day)</label>
          <input id="et0" type="number" step="0.1" placeholder="Reference evapotranspiration"/>
          <div class="inline-tip">Use local weather or class value.</div>
        </div>
<div>
          <label>Rainfall last 24h (mm)</label>
          <input id="rain" type="number" step="0.1" placeholder="e.g., 5" />
        </div>
        <div>
          <label>Soil Moisture (%)</label>
          <input id="soil" type="number" step="1" placeholder="0â€“100" />
          <div class="inline-tip">Volumetric water content estimate.</div>
        </div>

        <div>
          <label>Soil Type</label>
          <select id="soilType">
            <option value="sandy">Sandy</option>
            <option value="loam" selected>Loam</option>
            <option value="clay">Clay</option>
          </select>
        </div>
        <div>
          <label>Irrigation Efficiency (%)</label>
          <input id="eff" type="number" step="1" value="75" />
          <div class="inline-tip">Drip ~90, Sprinkler ~80, Flood ~60â€“70</div>
        </div>
      </div>

      <div class="row" style="margin-top:12px">
        <button id="calcBtn">Calculate Plan</button>
      </div>

<div class="kpi">
        <div class="pill">
          <div>ET<sub>c</sub> (mm/day)</div>
          <div id="kpiETc" class="big">â€“</div>
        </div>
        <div class="pill">
          <div>Net Irrigation (mm)</div>
          <div id="kpiNet" class="big">â€“</div>
        </div>
        <div class="pill">
          <div>Gross Irrigation (L)</div>
          <div id="kpiGross" class="big">â€“</div>
        </div>
      </div>

      <div id="advice" class="result">Enter inputs and click <b>Calculate Plan</b>.</div>
    </section>

    <!-- OUTPUTS -->
    <section class="card">
      <h2>Water Balance</h2>
      <canvas id="chart" width="800" height="260" aria-label="Water balance chart"></canvas>

      <h2 style="margin-top:16px">Saved Plans (Local)</h2>
      <table id="runsTable">
        <thead>
          <tr>
            <th>Date</th><th>Crop</th><th>Stage</th><th>Area (ha)</th>
            <th>ETâ‚€</th><th>Rain</th><th>ETc</th><th>Gross (L)</th><th></th>
          </tr>
        </thead>
        <tbody></tbody>
 </table>
      <div class="footer-note">
        <span class="tag">ðŸ”¹ 1 mm over 1 mÂ² = 1 L</span>
        <span class="tag">ðŸ”¹ Effective rainfall assumed 80%</span>
        <span class="tag">ðŸ”¹ Soil moisture contribution uses field-capacity presets</span>
      </div>
    </section>
  </div>

  <section class="card" style="margin-top:14px; max-width:1100px">
    <h2>Purpose (for your report)</h2>
    <p>
      This web application addresses the agriculture problem of water wastage and crop stress
      caused by inaccurate irrigation. It guides the user to input climate (ETâ‚€, rainfall),
      crop & stage (Kc), soil condition, and system efficiency to compute the required irrigation.
      The app converts water depth (mm) to field volume (litres), recommends a schedule, visualises
      the water balance, and stores runs locally for collaboration demos and deployment.
    </p>
  </section>

  <script src="script.js"></script>
</body>
</html>
